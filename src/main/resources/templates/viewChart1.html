<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>COVID-19 Chart</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">                    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min"></script>
    
    <link href="CSS/MyStyle.css" rel="stylesheet">
</head>
<body>
     <h2 th:value="${myURL}" th:text="${myURL}" id="myURL">Hello Good Morning!</h2>
     <div class="card text-center m-5" {id="myChart"}>
     
     <div class="card-header">
       <h1>Corona Virus Death Report</h1>
      </div>
      
      <div class="card-body">
         <canvas id="chart-area" width="800" height="450"></canvas>
       </div>
     </div>
     
    <script>
        getChartData();
        async function getChartData()
        {
			console.log(document.URL);
			const queryString = window.location.search;
			console.log('query String='+queryString);
			console.log("Entering getChartData Method......");
			
			//const apiurl = "http://lochalhost:8081/colletChartData";
			let myURL = document.getElemntById("myURL");
			const apiurl=myURL.getElementById("myURL");
			const reponse = await fetch(apiurl);
			console.log(response);
			const ChartData = await response.json();
			console.log('barChartData length ='+ChartData.length);
			countries = [];
			deathcount = [];
			
		}
    </script>
</body>
</html>
